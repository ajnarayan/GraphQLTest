import java.text.SimpleDateFormat

/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at https://docs.gradle.org/4.0.1/userguide/tutorial_java_projects.html
 */

// Apply the java plugin to add support for Java
// add wrapper using gradle wrapper --gradle-version=4.0, This will produce gradlew and gradlew.bat scripts and the gradle folder with the wrapper jar inside as described in the
plugins {
    id 'war' //adds the configurations providedCompile and providedRuntime
    id 'org.akhikhl.gretty' version '1.4.2' //replacement for Jetty web server
}
apply plugin: 'idea'
apply plugin: 'java'
apply plugin: 'application'

//def slf4jVersion = '1.7.25'
//def releaseVersion = System.properties.RELEASE_VERSION
//version = releaseVersion ? releaseVersion : new SimpleDateFormat('yyyy-MM-dd\'T\'HH-mm-ss').format(new Date())
sourceCompatibility = 1.8
targetCompatibility = 1.8

// In this section you declare where to find the dependencies of your project
repositories {
    jcenter()
    mavenCentral()
}


dependencies {
	compile 'joda-time:joda-time:2.2'

    //for GraphQL schema language to build your graphql-java schema
    compile 'com.graphql-java:graphql-java-tools:4.3.0'

    // Primary graphql java library
    compile 'com.graphql-java:graphql-java:6.0'

    // a simple helper library containing a ready-made servlet for accepting GraphQL queries
    compile 'com.graphql-java:graphql-java-servlet:4.6.1'

    // Jetty webapp for the servlet specification implementation
    compile 'javax.servlet:javax.servlet-api:3.1.0'

    testCompile	"com.jayway.jsonpath:json-path", "junit:junit:4.12"
}

jar {
    manifest {
        attributes(
                'Main-Class': 'codehood.Application'
        )
    }
    baseName = 'codehood'
    version =  '1.0.0-SNAPSHOT'
}


mainClassName = 'codehood.Application'


